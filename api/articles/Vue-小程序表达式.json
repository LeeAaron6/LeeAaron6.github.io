{"title":"Vue 小程序表达式","slug":"Vue-小程序表达式","date":"2018-08-03T09:10:03.000Z","updated":"2018-10-29T03:16:12.136Z","comments":true,"path":"api/articles/Vue-小程序表达式.json","photos":[],"link":"","excerpt":"最近写了很多动态添加类名或者tab标签切换的表达式，遇到过很多的坑，下面为大家分享一下我遇到的几种。","covers":null,"content":"<p>最近写了很多动态添加类名或者tab标签切换的表达式，遇到过很多的坑，下面为大家分享一下我遇到的几种。<a id=\"more\"></a></p>\n<h2 id=\"v-show以及微信wx-if的使用（以这两个为例）\"><a href=\"#v-show以及微信wx-if的使用（以这两个为例）\" class=\"headerlink\" title=\"v-show以及微信wx:if的使用（以这两个为例）\"></a><strong><em>v-show以及微信wx:if的使用（以这两个为例）</em></strong></h2><h3 id=\"v-show\"><a href=\"#v-show\" class=\"headerlink\" title=\"v-show\"></a>v-show</h3><p>v-show后面可以在引号里面直接写true or false<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;span class=&quot;rise&quot; v-show=&quot;isactive!=1&quot;&gt;&#123;&#123;huanbi&#125;&#125;&lt;/span&gt;</span><br><span class=\"line\">&lt;span class=&quot;rise&quot; v-show=&quot;false&quot;&gt;&#123;&#123;huanbi&#125;&#125;&lt;/span&gt;</span><br><span class=\"line\">&lt;span class=&quot;rise&quot; v-show=&quot;true&quot;&gt;&#123;&#123;huanbi&#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure></div></p>\n<h3 id=\"wx-if\"><a href=\"#wx-if\" class=\"headerlink\" title=\"wx:if\"></a>wx:if</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"HTML\"><figure class=\"iseeu highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx:if在引号里面必须有&#123;&#123;&#125;&#125;</span><br><span class=\"line\"># 在hexojs中直接写&#123;&#123;&#125;&#125;会抛出环境错误</span><br></pre></td></tr></table></figure></div>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;view wx:if=&quot;&#123;&#123;false&#125;&#125;&quot;  class=&quot;Theuser&quot; style=&quot;height:85rpx;&quot;&gt;</span><br><span class=\"line\">      &lt;label&gt;渠道编号：&lt;/label&gt;</span><br><span class=\"line\">      &lt;view style=&quot;height:100%;float:right;margin-right:24rpx;line-height:88rpx;&quot;&gt;&#123;&#123;qudaocode&#125;&#125;&lt;/view&gt;</span><br><span class=\"line\">&lt;/view&gt;</span><br></pre></td></tr></table></figure></div>\n<p><strong><em>注：在使用wx:if时有时候会出现闪现问题，其一先清除默认值，其二要使用全等</em></strong></p>\n<h2 id=\"v-for与wx-for\"><a href=\"#v-for与wx-for\" class=\"headerlink\" title=\"v-for与wx:for\"></a><strong><em>v-for与wx:for</em></strong></h2><h3 id=\"v-for\"><a href=\"#v-for\" class=\"headerlink\" title=\"v-for\"></a>v-for</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"HTML\"><figure class=\"iseeu highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"list\"</span>  <span class=\"attr\">v-for</span>=<span class=\"string\">\"item in list\"</span> <span class=\"attr\">:key</span>=<span class=\"string\">\"item.id\"</span> <span class=\"attr\">:price</span>=<span class=\"string\">\"[item.f_itil_1801090109_006]\"</span> <span class=\"attr\">:name</span>=<span class=\"string\">\"[item.f_itil_1801090109_P01]\"</span>&gt;</span></span><br></pre></td></tr></table></figure></div>\n<p>如果需要使用索引<br><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"HTML\"><figure class=\"iseeu highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">\"item in items\"</span>&gt;</span></span><br><span class=\"line\">    &#123;&#123;parentMessage&#125;&#125; - &#123;&#123;$index&#125;&#125; - &#123;&#123;item.message&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-for</span>=<span class=\"string\">\"(index, item) in items\"</span>&gt;</span></span><br><span class=\"line\">  &#123;&#123;index&#125;&#125; &#123;&#123;item.message&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure></div></p>\n<h3 id=\"wx-for\"><a href=\"#wx-for\" class=\"headerlink\" title=\"wx:for\"></a>wx:for</h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wx:for=&quot;&#123;&#123;Alldata&#125;&#125;&quot; wx:key=&quot;&quot;</span><br><span class=\"line\">#Alldata 为数组 使用索引时直接用&#123;&#123;index&#125;&#125;即可</span><br></pre></td></tr></table></figure></div>\n<h3 id=\"三元运算\"><a href=\"#三元运算\" class=\"headerlink\" title=\"三元运算\"></a><strong><em>三元运算</em></strong></h3><div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div class=&quot;btn_date&quot; @click=&quot;choose&quot;&gt;</span><br><span class=\"line\">            &lt;span class=&quot;er&quot; :class=&quot;[status==1?&apos;active&apos;:&apos;&apos;]&quot; :name=&quot;1&quot;&gt;日&lt;/span&gt;</span><br><span class=\"line\">            &lt;span class=&quot;er&quot; :class=&quot;[status==2?&apos;active&apos;:&apos;&apos;]&quot; :name=&quot;2&quot;&gt;周&lt;/span&gt;</span><br><span class=\"line\">            &lt;span class=&quot;er&quot; :class=&quot;[status==3?&apos;active&apos;:&apos;&apos;]&quot; :name=&quot;3&quot;&gt;月&lt;/span&gt;</span><br><span class=\"line\">            &lt;span class=&quot;er&quot; :class=&quot;[status==4?&apos;active&apos;:&apos;&apos;]&quot; :name=&quot;4&quot;&gt;年&lt;/span&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">//简单的点击添加类名</span><br></pre></td></tr></table></figure></div>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;view class=&quot;header&quot; bindtap=&quot;choosetype&quot;&gt;</span><br><span class=\"line\">            &lt;view class=&quot;&#123;&#123;isactive == 1?&apos;active&apos;:&apos;&apos;&#125;&#125;&quot; data-set=&quot;1&quot;&gt;全部&lt;/view&gt;</span><br><span class=\"line\">            &lt;view class=&quot;&#123;&#123;isactive == 2?&apos;active&apos;:&apos;&apos;&#125;&#125;&quot; data-set=&quot;2&quot;&gt;待接单&lt;/view&gt;</span><br><span class=\"line\">            &lt;view class=&quot;&#123;&#123;isactive == 3?&apos;active&apos;:&apos;&apos;&#125;&#125;&quot; data-set=&quot;3&quot;&gt;处理中&lt;/view&gt;</span><br><span class=\"line\">            &lt;view class=&quot;&#123;&#123;isactive == 4?&apos;active&apos;:&apos;&apos;&#125;&#125;&quot; data-set=&quot;4&quot;&gt;已完成&lt;/view&gt;</span><br><span class=\"line\">&lt;/view&gt;</span><br></pre></td></tr></table></figure></div>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;view class=&quot;header&quot; bindtap=&quot;choosetype&quot;&gt;</span><br><span class=\"line\">            &lt;view class=&quot;er &#123;&#123;isactive == 1?&apos;active&apos;:&apos;&apos;&#125;&#125;&quot; data-set=&quot;1&quot;&gt;全部&lt;/view&gt;</span><br><span class=\"line\">            &lt;view class=&quot;er &#123;&#123;isactive == 2?&apos;active&apos;:&apos;&apos;&#125;&#125;&quot; data-set=&quot;2&quot;&gt;待接单&lt;/view&gt;</span><br><span class=\"line\">            &lt;view class=&quot;er &#123;&#123;isactive == 3?&apos;active&apos;:&apos;&apos;&#125;&#125;&quot; data-set=&quot;3&quot;&gt;处理中&lt;/view&gt;</span><br><span class=\"line\">            &lt;view class=&quot;er &#123;&#123;isactive == 4?&apos;active&apos;:&apos;&apos;&#125;&#125;&quot; data-set=&quot;4&quot;&gt;已完成&lt;/view&gt;</span><br><span class=\"line\">&lt;/view&gt;</span><br></pre></td></tr></table></figure></div>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"PLAIN\"><figure class=\"iseeu highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;view class=&quot;header&quot; bindtap=&quot;choosetype&quot;&gt;</span><br><span class=\"line\">            &lt;view class=&quot;&#123;&#123;isactive == 1?&apos;active er&apos;:&apos;er&apos;&#125;&#125;&quot; data-set=&quot;1&quot;&gt;全部&lt;/view&gt;</span><br><span class=\"line\">            &lt;view class=&quot;&#123;&#123;isactive == 2?&apos;active er&apos;:&apos;er&apos;&#125;&#125;&quot; data-set=&quot;2&quot;&gt;待接单&lt;/view&gt;</span><br><span class=\"line\">            &lt;view class=&quot;&#123;&#123;isactive == 3?&apos;active er&apos;:&apos;er&apos;&#125;&#125;&quot; data-set=&quot;3&quot;&gt;处理中&lt;/view&gt;</span><br><span class=\"line\">            &lt;view class=&quot;&#123;&#123;isactive == 4?&apos;active er&apos;:&apos;er&apos;&#125;&#125;&quot; data-set=&quot;4&quot;&gt;已完成&lt;/view&gt;</span><br><span class=\"line\">&lt;/view&gt;</span><br></pre></td></tr></table></figure></div>\n<p><strong><em>注：小程序里面不能写2个class会报错，vue可以写</em></strong></p>\n<div class=\"highlight-wrap\"autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" contenteditable=\"true\"data-rel=\"HTML\"><figure class=\"iseeu highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">src</span>=<span class=\"string\">\"&#123;&#123;ischoose=='1'?[chec;]:[uncheck]&#125;&#125;\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">image</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">####</span><br><span class=\"line\">data:&#123;</span><br><span class=\"line\">  chec:'wwqeq',</span><br><span class=\"line\">  uncheck:'sdsadasd'</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n<h2 id=\"未完待续\"><a href=\"#未完待续\" class=\"headerlink\" title=\"未完待续\"></a><strong><em>未完待续</em></strong></h2>","categories":[],"tags":[{"name":"Vue","slug":"Vue","count":5,"path":"api/tags/Vue.json"},{"name":"Mini-apps","slug":"Mini-apps","count":2,"path":"api/tags/Mini-apps.json"}]}